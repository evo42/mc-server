# BlueMap Configuration Base Template
# Optimized for 7-Server Minecraft Infrastructure with Lazy Loading

# =============================================================================
# BlueMap Global Settings
# =============================================================================
blueMap:

  # Web Interface Configuration
  web:
    # Port für Web Interface (jeder Server hat eigenen Port)
    port: 8080

    # Root Path für alle BlueMap URLs
    rootPath: "/bluemap/"

    # Enable CORS für Admin API Integration
    enableCors: true

    # Enable Gzip compression für bessere Performance
    gzip: true

    # Security Settings
    security:
      enableHttps: false  # Wird später für Production aktiviert
      allowedOrigins: ["http://localhost:3000", "https://admin.lerncraft.xyz"]
      maxFileSize: "50MB"

    # Static File Caching
    cache:
      enabled: true
      maxAge: 86400  # 24 Stunden in Sekunden
      compression: true

  # Lazy Server Configuration - Optimiert für Multi-Server Setup
  lazy:
    # Lazy Loading aktivieren für bessere Performance
    enabled: true

    # Cache Größe pro Server (optimiert für 1GB Limit)
    cacheSize: "512MB"

    # Maximale gleichzeitige Render-Jobs pro Server
    maxConcurrentRenders: 3

    # Render Distance (in Chunks)
    renderDistance: 5000

    # Chunk Loading Radius für bessere User Experience
    chunkLoadingRadius: 32

    # Memory Management
    memory:
      maxHeapSize: "1GB"
      gcThreshold: "512MB"
      cleanupInterval: 300  # 5 Minuten

    # Performance Optimization
    performance:
      useWebGL: true
      enableGPUAcceleration: true
      maxFPS: 60
      adaptiveQuality: true

  # Storage Configuration
  storage:
    # Tile Storage Location
    tiles:
      path: "./tiles"
      format: "png"
      compression: "gzip"
      maxZoom: 6

    # Web Data Storage (POI, markers, etc.)
    webData:
      path: "./web-data"
      backupEnabled: true
      backupInterval: 3600  # 1 Stunde

  # Logging Configuration
  logging:
    level: "INFO"
    file:
      enabled: true
      path: "./logs/bluemap.log"
      maxSize: "100MB"
      maxFiles: 5

  # Performance Monitoring
  monitoring:
    enabled: true
    metrics:
      renderTime: true
      memoryUsage: true
      cacheHitRate: true
      activeUsers: true
    export:
      prometheus:
        enabled: true
        port: 9090
      grafana:
        enabled: true
        dashboardId: "bluemap-dashboard"

# =============================================================================
# World Configuration Template (wird pro Server angepasst)
# =============================================================================
worlds:

  # Template für alle 7 Server - wird individualisiert
  template_world:
    # World enable/disable
    enabled: true

    # Path zur World (wird pro Server angepasst)
    worldPath: "./worlds"

    # World Name (wird pro Server angepasst)
    worldName: "template"

    # Lazy Loading für diese World
    lazyLoading: true

    # Render Distance für diese World
    renderDistance: 5000

    # Web Interface Settings
    web:
      # Web Interface enable/disable
      enabled: true

      # 3D Map Settings
      threeDimension:
        enabled: true
        useWebGL: true
        showBiomes: true
        showHeight: true
        lighting: true

      # 2D Map Settings
      flat:
        enabled: true
        showGrid: true
        showCoords: true

    # POI (Point of Interest) Configuration
    poi:
      enabled: true

      # Automatically detect POIs
      autoDetect:
        enabled: true
        # SpielerSpawn Points
        spawnPoints: true
        # Nether Portals
        netherPortals: true
        # End Portals
        endPortals: true
        # Villages
        villages: true
        # Structures
        structures: true

      # Custom POI Types
      types:
        player_spawn:
          icon: "spawn.png"
          showName: true
          maxDistance: 1000

        nether_portal:
          icon: "portal.png"
          showName: false
          maxDistance: 500

        village:
          icon: "village.png"
          showName: true
          maxDistance: 2000

  # Marker Configuration
  markerSets:
    enabled: true

    # Default Marker Set
    default:
      label: "Minecraft World"
      toggleable: true
      defaultHidden: false

      markers:
        # World Spawn Marker
        world_spawn:
          type: "icon"
          icon: "spawn.png"
          label: "World Spawn"
          description: "The main spawn point of this world"
          position:
            x: 0
            y: 64
            z: 0

        # Server Information Marker
        server_info:
          type: "html"
          label: "Server Information"
          html: |
            <div style="padding: 10px; background: rgba(0,0,0,0.7); color: white; border-radius: 5px;">
              <h3>Server Status</h3>
              <p>Players: <span id="player-count">0</span></p>
              <p>Uptime: <span id="server-uptime">0h</span></p>
              <button onclick="showServerDetails()">More Details</button>
            </div>

# =============================================================================
# Server-spezifische Anpassungen (werden in individuellen Configs überschrieben)
# =============================================================================
serverSpecific:

  # mc-basop-bafep-stp
  mc-basop-bafep-stp:
    worldName: "mc-basop-bafep-stp"
    worldPath: "/minecraft/worlds/mc-basop-bafep-stp"
    webPort: 8081
    maxPlayers: 20

  # mc-bgstpoelten
  mc-bgstpoelten:
    worldName: "mc-bgstpoelten"
    worldPath: "/minecraft/worlds/mc-bgstpoelten"
    webPort: 8082
    maxPlayers: 25

  # mc-borgstpoelten
  mc-borgstpoelten:
    worldName: "mc-borgstpoelten"
    worldPath: "/minecraft/worlds/mc-borgstpoelten"
    webPort: 8083
    maxPlayers: 30

  # mc-hakstpoelten
  mc-hakstpoelten:
    worldName: "mc-hakstpoelten"
    worldPath: "/minecraft/worlds/mc-hakstpoelten"
    webPort: 8084
    maxPlayers: 35

  # mc-htlstp
  mc-htlstp:
    worldName: "mc-htlstp"
    worldPath: "/minecraft/worlds/mc-htlstp"
    webPort: 8085
    maxPlayers: 40

  # mc-ilias
  mc-ilias:
    worldName: "mc-ilias"
    worldPath: "/minecraft/worlds/mc-ilias"
    webPort: 8086
    maxPlayers: 15

  # mc-niilo
  mc-niilo:
    worldName: "mc-niilo"
    worldPath: "/minecraft/worlds/mc-niilo"
    webPort: 8087
    maxPlayers: 50